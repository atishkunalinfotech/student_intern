<%= javascript_include_tag "application" %>
<div class="faq">
<div class="container">
<div class="row" style="margin-top:150px;">
<div class="span12">
 <p>
   <%= link_to_function "Back", "history.back()",:class=> "back-btn" %>
 </p>
<div class="form">
<% if params[:student_id].present?%>
  <%= form_for [:admin,@student], html: {method: :post} do |f| %>
    <% if @student.errors.any? %>
      <div id="error_explanation">
  	  <ul>
  	   <%  @student.errors.full_messages.each do |msg| %>
  	     <li><%= msg %></li>
  	   <% end %>
  	  </ul>
      </div>
    <% end %>

    <table width="100%" border="0" class="table table-bordered table-striped">
      <thead></thead>
      <tbody>
        <tr>
        <td><strong><%= f.label :student_firstname %></strong></td>
        <td><%= f.text_field :student_firstname,required: true %></td>
        <td><strong><%= f.label :student_middlename %></strong></td>
        <td><%= f.text_field :student_middlename,required: true %></td><br/>
        </tr>
        <tr>
           <td><strong><%= f.label :student_lastname  %></strong></td>
           <td><%= f.text_field :student_lastname,required: true %></td>
           <td><strong><%= f.label :student_email  %></strong></td>
           <td><%= f.text_field :student_email,required: true%></td>
        </tr>
        <tr>
          <td><strong><%= f.label :telephone  %></strong></td>
          <td><%= f.text_field :telephone,required: true %></td>
          <td><strong><%= f.label :gender  %></strong></td>
          <td><%= f.select :gender, [ ["Male", "Male"],["Female", "Female"] ],{:include_blank=>"Select One"} ,:required =>true%></td>
        </tr> 

        <tr>
          <td><strong><%= f.label :status  %></strong></td>
          <td><%= f.select :status, [ ["International", "International"],["Permanent Resident/Citizen", "Permanent Resident/Citizen"] ],{:include_blank=>"Select One"} ,:required =>true%></td>
          <td><strong><%= label_tag :semester  %></strong></td>
          <td><%= select_tag(:semester, options_for_select([["Fall", "Fall"],["Winter", "Winter"]],:selected => "Fall", :include_blank => true)) %></td>
        </tr> 

        <tr>
          <td><strong><%= label_tag :year  %></strong></td>
          <td><%= date_field_tag :year%></td>
          <td><strong><%= f.label :country  %></strong></td>
          <td><%= f.country_select(:country) %></td>
        </tr>  
      </tbody>
    </table> 

    <%#= f.hidden_field :student_profile , :value => "student_profile"%>
    <%= f.hidden_field :student_id , :value => params[:student_id]%>
    <!-- <div class="field">
      <%= f.label :studentid %>
      <%= f.text_field :studentid,required: true %>
    </div> -->
      <h2>EDUCATION</h2>
      <%= render  "admin/students/education_fields" %>
      <h2>WORK EXPERIENCE</h2>
      <%= render  "admin/students/student_work_exp" %>
    <h2>SKILLS</h2>
    <% @skill_groups.each do |skillgrp| %>
      <strong><%= skillgrp.skill rescue nil%></strong> <br/><br/>
      <%skillgrp.skills.each do |skill|%>
         <table width="100%" border="0" class="table table-bordered table-striped">
          <thead><strong><%= skill.skill_name rescue nil%></strong></thead>
          <tbody>
             <td><%="Not at all competent"%> <%= radio_button_tag :"#{skill.id}","Not at all competent", true %></td>
         <td><%="Little competent"%><%= radio_button_tag :"#{skill.id}", "Little competent" %></td>
         <td><%="Moderately competent"%><%= radio_button_tag :"#{skill.id}", "Moderately competent"%></td><td><%="Extremely competent"%><%= radio_button_tag :"#{skill.id}", "Extremely competent" %></td>
          </tbody>
         </table>
         
      <%end%>
    <%end%>
    
    <div class="actions">
      <%= f.submit %><br>
    </div>

  <% end %>

  </div>
</div>
</div>
</div>
</div>

  <script type="text/javascript">
      jQuery.noConflict();
      jQuery(function($){
        jQuery("#year").datepicker({
          changeYear: true,
          showButtonPanel: true,
          dateFormat: 'yy',
          beforeShowDay: jQuery.datepicker.nodates,
          onClose: function(dateText, inst) { 
              var year = jQuery("#ui-datepicker-div .ui-datepicker-year :selected").val();
              jQuery(this).datepicker('setDate', new Date(year, 1));
          }
      });

      jQuery("#year").focus(function () {
          jQuery(".ui-datepicker-month").hide();
          jQuery(".ui-datepicker-calendar").hide();
          jQuery(".ui-datepicker-current").hide();
      });

      });
  </script>
<%else%>
  <h1>No Student Present</h1>
<%end%>